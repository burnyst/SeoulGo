<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">
	<!-- 로그인 결과 -->
	<!-- <select id="loginResult" resultType="java.util.HashMap"
		parameterType="java.util.HashMap">
		select memberID, email, mName, nickname, mLevel 
		from member_t
		where memberID=#{memberID}
	</select> -->

	<!-- <select id="loginProc" resultType="mdto">
		select memberID, memberPW, nickname, mLevel
		from member_t
		where memberID=#{memberID}
	</select> -->
	
	<!-- 로그인 비밀번호 조회 -->
	<select id="getPW" resultType="mdto">
		select memberID, memberPW, nickname, mLevel
		from member_t
		where memberID=#{memberID}
	</select>
	
	<!-- 로그인 처리 -->
	<select id="loginProc" resultType="java.util.HashMap" parameterType="java.util.HashMap">
		select memberID, memberPW, nickname, mLevel
		from member_t
		where memberID=#{memberID}
	</select>

	<!-- 회원가입 처리 -->
	<insert id="registerProc" parameterType="mdto">
		INSERT INTO
		member_t (
		memberID, memberPW, mName, nickname, gender, birth,
		enrollDate, phone1, phone2, phone3, email, mLevel, proSaveName
		)
		VALUES (
		#{memberID}, #{memberPW}, #{mName}, #{nickname}, #{gender}, #{birth},
		SYSDATE, #{phone1}, #{phone2}, #{phone3}, #{email}, #{mLevel},
		#{proSaveName}
		)
	</insert>

	<!-- 아이디 조회 -->
	<select id="getMemberID" parameterType="mdto" resultType="mdto">
		SELECT
		* FROM member_t WHERE memberID=#{memberID}
	</select>

	<!-- 아이디 중복 여부 조회 -->
	<select id="idChk" resultType="int">
		SELECT count(*) FROM member_t
		WHERE memberID=#{memberID}
	</select>
</mapper>